function addToCart(t,e,r=0,n=null){var o=getCookie("countProduct");0==o.length?o=1:o++,setCookie("product"+o,"id:"+t+"-count:"+e+"-price:"+r),setCookie("countProduct",o),$(".cart-count").load(document.URL+" #number"),$("#countInput").load(document.URL+" #count"),alert("Thêm sản phẩm thành công"),null!=n&&n()}function gotoPage(t){document.location.href=t}function removeProductFromCart(t){$($(t).parents("tr")[0]).attr("id");var e=$($(t).parents("tr")[0]).attr("c-name"),r=getCookie("countProduct")-1;$($(t).parents("tr")[0]).remove(),deleteCookie(e),setCookie("countProduct",r),refreshTableProduct(),refreshTotalPrice(),refreshHeaderButtonCart(r)}function refreshTableProduct(){var t=$(".row-table");if(t.length>0)for(var e=0;e<t.length;e++){var r=$(t[e]).find(".deleteProduct"),n=$(t[e]).find("input");$(r).attr("id",e),$(n).attr("id",e)}else $(".table-modify").append('<p class="error">Giỏ hàng trống</p>')}function refreshPricePayment(){var t=getTotalPay();$(".total-price label").text(t.format()+"đ")}function refreshTotalPricePayment(){var t=getTotalPay(),e=getDeliveryCharge();$(".total-price label").text(t.format()+"đ"),$(".total-payment span").text((t+e).format()+"đ")}function refreshTotalPrice(){var t=getTotalPrice();0==t&&($("#button-confirm").find("a").remove(),$("#button-confirm").append('<a><i class="fa fa-money"></i> <span class="content-inner">Thanh toán</span></a>')),$($("#bill").find("#totalPrice")[0]).text(t.format()+"đ")}function refreshRowProduct(t){var e=$(t).parents("tr")[0],r=$(e).attr("c-name"),n=$(e).attr("id"),o=$(t).val(),i=getPrice(e);o<.5?(o=.5,$(t).val(o)):o>100&&(o=100,$(t).val(o)),setProductCount(r,n,o,i),updateTotalPrice(e)}function refreshHeaderButtonCart(t){var e=$(".cart-count")[0];$(e).find("#number").text(t)}function updateTotalPrice(t){var e=getPrice(t);console.log($(t).find(".amount")[0]),$($(t).find(".amount")[0]).text(e.format()+"đ")}function changeQuantityPayment(){refreshPricePayment(),refreshTotalPricePayment()}function changeQuantity(t){refreshRowProduct(t),refreshTotalPrice()}function getDeliveryCharge(){var t=$(".shiping-price label").text();return parseInt(t.substring(0,t.length-2).replaceAll(",",""))}function getTotalPay(){var t=$(".cart-item"),e=0;if(t.length>0)for(var r=0;r<t.length;r++){var n=t[r],o=$($(n).find("input")[0]).val(),i=$($(n).children(".price")[0]).text();i=parseInt(i.substring(0,i.length-1).replaceAll(",","")),e+=i*o}return e}function getTotalPrice(){var t=$("tbody tr"),e=0;if(t.length>0)for(var r=0;r<t.length;r++)e+=getPrice(t[r]);return e}function getPrice(t){var e=$(t).find(".quantity input").val(),r=$(t).find(".price").text();return r=parseInt(r.substring(0,r.length-4).replaceAll(",","")),e*r}function findIndexWithIDProduct(t){var e=getListCookie();for(let r=0;r<e.length;r++){let n=e[r],o=n.split("=")[1].split("-")[0].split(":")[1];if(o==t)return r}return!1}function findIndexWithCookieName(t){var e=getListCookie();for(let r=0;r<e.length;r++){let n=e[r],o=n.split("=")[0].trim();if(o==t)return r}return!1}function getProductInfo(t){return getCookieAt(t)}function getProductId(t){var e=getProductInfo(t);if(null!=e)return e.split("-")[0].split(":")[1]}function getProductCount(t){var e=getProductInfo(t);if(null!=e)return e.split("-")[1].split(":")[1]}function setProductInfo(t,e){var r=getNameCookieAt(t);insertCookieAt(r,e,t)}function setProductCount(t,e,r,n=0){var o="id:"+e+"-count:"+r+"-price:"+n,i=getCookie("countProduct");deleteCookie("countProduct"),setProductInfo(findIndexWithCookieName(t),o),setCookie("countProduct",i)}String.prototype.replaceAll=function(t,e){var r=this;return r.split(t).join(e)},Number.prototype.format=function(t,e){var r="\\d(?=(\\d{"+(e||3)+"})+"+(t>0?"\\.":"$")+")";return this.toFixed(Math.max(0,~~t)).replace(new RegExp(r,"g"),"$&,")};